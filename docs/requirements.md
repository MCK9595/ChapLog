# ChapLog - 読書記録アプリ 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
ChapLog（チャプログ）- Chapter（章）とLog（記録）を組み合わせた名称

### 1.2 目的
読書の進捗と感想を日記形式で記録し、学びを蓄積・振り返りできるWebアプリケーション

### 1.3 対象ユーザー
- 読書習慣を持ち、読書記録を残したい個人
- 読書から得た学びを整理・蓄積したい人

## 2. 機能要件

### 2.1 ユーザー管理機能

#### 2.1.1 ユーザー登録・認証
- メールアドレスとパスワードによるユーザー登録
- ログイン/ログアウト機能
- パスワードリセット機能
- セッション管理

#### 2.1.2 ユーザーロール
- **一般ユーザー**: 自分の読書記録の管理
- **管理者**: 全ユーザーのデータ管理、システム設定

### 2.2 書籍管理機能

#### 2.2.1 書籍登録
- 手動による書籍情報入力
  - タイトル（必須）
  - 著者名（必須）
  - 出版社
  - 出版年
  - ページ数
  - カテゴリ/ジャンル
  - 表紙画像URL
  - メモ

#### 2.2.2 書籍一覧
- 登録書籍の一覧表示
- ステータスによる絞り込み（未読/読書中/読了）
- 検索機能（タイトル、著者名）
- ソート機能（登録日、更新日、タイトル、ステータス）

#### 2.2.3 ステータス管理
- **未読**: まだ読み始めていない
- **読書中**: 現在読んでいる
- **読了**: 読み終わった
- ステータスの自動更新（日記登録時）

### 2.3 読書日記機能

#### 2.3.1 日記エントリ作成
- 読書日（必須）
- 読んだページ範囲（開始ページ〜終了ページ）
- 読んだ章/セクション
- 感想（リッチテキストエディタ）
- 学び・気づき（箇条書き対応）
- その日の評価（5段階）

#### 2.3.2 日記一覧・詳細
- 書籍ごとの日記一覧
- 日付順表示
- 日記の編集・削除

### 2.4 読了後レビュー機能

#### 2.4.1 総合レビュー
- 読了日
- 全体の感想（リッチテキストエディタ）
- 主な学び・まとめ
- 総合評価（5段階）
- おすすめ度

### 2.5 統計・分析機能

#### 2.5.1 読書統計
- 月別読書冊数グラフ
- ジャンル別読書割合
- 読書ペース分析
- 年間読書目標と進捗

#### 2.5.2 ダッシュボード
- 現在読書中の本
- 最近の読書活動
- 統計サマリー

### 2.6 管理者機能

#### 2.6.1 ユーザー管理
- ユーザー一覧
- ユーザー情報編集
- ユーザー削除

#### 2.6.2 システム管理
- 統計情報の確認
- データバックアップ

## 3. 非機能要件

### 3.1 性能要件
- ページロード時間: 3秒以内
- 同時接続ユーザー数: 100人以上対応

### 3.2 セキュリティ要件
- HTTPS通信必須
- パスワードの暗号化保存
- SQLインジェクション対策
- XSS対策
- CSRF対策

### 3.3 ユーザビリティ要件
- レスポンシブデザイン（PC/タブレット/スマートフォン対応）
- 直感的で使いやすいUI
- モダンなデザイン

### 3.4 可用性要件
- オンプレミスサーバーでの動作
- コンテナによる可搬性確保

## 4. 技術要件

### 4.1 アーキテクチャ
- フロントエンド + バックエンドAPI + データベースの3層構造
- .NET Aspire 9.4によるコンテナオーケストレーション

### 4.2 技術スタック
- **フロントエンド**: Next.js (TypeScript)
- **バックエンド**: ASP.NET Core 9.0 (C#)
- **データベース**: PostgreSQL
- **認証**: ASP.NET Core Identity
- **コンテナ**: Docker
- **オーケストレーション**: .NET Aspire 9.4

### 4.3 推奨ミドルウェア
- **キャッシュ**: Redis
- **メール送信**: MailKit
- **ロギング**: Serilog + Seq

## 5. 制約事項

### 5.1 開発制約
- 初期バージョンではISBN検索機能は実装しない
- 他ユーザーとの共有機能は実装しない

### 5.2 運用制約
- オンプレミスサーバーでの運用を前提とする

## 6. 今後の拡張予定

### 6.1 フェーズ2
- ISBN検索による書籍情報自動取得
- 書籍API（Google Books API等）との連携
- 読書目標設定機能

### 6.2 フェーズ3
- モバイルアプリ対応
- 電子書籍リーダー連携
- AI による読書推薦機能